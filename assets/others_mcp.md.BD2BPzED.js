import{_ as s,c as i,o as l,ag as n}from"./chunks/framework.DK1-H3E1.js";const u=JSON.parse('{"title":"MCP（模型上下文协议）详解","description":"","frontmatter":{},"headers":[],"relativePath":"others/mcp.md","filePath":"others/mcp.md","lastUpdated":1768233596000}'),t={name:"others/mcp.md"};function r(e,a,o,h,p,d){return l(),i("div",null,a[0]||(a[0]=[n(`<h1 id="mcp-模型上下文协议-详解" tabindex="-1">MCP（模型上下文协议）详解 <a class="header-anchor" href="#mcp-模型上下文协议-详解" aria-label="Permalink to &quot;MCP（模型上下文协议）详解&quot;">​</a></h1><h2 id="概述" tabindex="-1">概述 <a class="header-anchor" href="#概述" aria-label="Permalink to &quot;概述&quot;">​</a></h2><p>**MCP（Model Context Protocol，模型上下文协议）**是由 Anthropic 于 2024 年 11 月推出的一项开放标准，旨在为大型语言模型（LLM）应用提供标准化接口，使其能够连接外部数据源和工具，并与之交互。</p><h2 id="什么是-mcp" tabindex="-1">什么是 MCP？ <a class="header-anchor" href="#什么是-mcp" aria-label="Permalink to &quot;什么是 MCP？&quot;">​</a></h2><p>MCP 是一个开放标准协议，用于标准化 LLM 与外部工具和数据源的集成。它解决了 AI 应用在访问外部资源时缺乏统一标准的问题，使得不同的 AI 工具可以通过统一的协议连接到各种外部服务。</p><h3 id="核心目标" tabindex="-1">核心目标 <a class="header-anchor" href="#核心目标" aria-label="Permalink to &quot;核心目标&quot;">​</a></h3><ol><li><strong>标准化上下文接入</strong>：通过统一的协议规范，使 AI 模型能够标准化地访问各种数据源和工具</li><li><strong>安全可控架构</strong>：基于宿主应用的安全代理模式，确保 AI 对数据的访问完全可控</li><li><strong>轻量高效协议</strong>：采用 JSON-RPC 作为通信基础，协议设计简洁高效</li></ol><h2 id="mcp-的主要特点" tabindex="-1">MCP 的主要特点 <a class="header-anchor" href="#mcp-的主要特点" aria-label="Permalink to &quot;MCP 的主要特点&quot;">​</a></h2><h3 id="_1-标准化上下文接入" tabindex="-1">1. 标准化上下文接入 <a class="header-anchor" href="#_1-标准化上下文接入" aria-label="Permalink to &quot;1. 标准化上下文接入&quot;">​</a></h3><p>MCP 提供了统一的协议规范，使 AI 模型能够访问：</p><ul><li><strong>文件系统</strong>：读取和写入本地文件</li><li><strong>数据库</strong>：连接和查询各种数据库</li><li><strong>API 服务</strong>：调用外部 REST API 或其他服务</li><li><strong>本地服务</strong>：集成本地应用程序和服务</li></ul><h3 id="_2-安全可控架构" tabindex="-1">2. 安全可控架构 <a class="header-anchor" href="#_2-安全可控架构" aria-label="Permalink to &quot;2. 安全可控架构&quot;">​</a></h3><p><strong>安全代理模式</strong>：</p><ul><li>基于宿主应用的安全代理模式</li><li>AI 对数据的访问完全可控</li><li>支持细粒度权限管理</li><li>完整的操作审计功能</li><li>满足企业级安全要求</li></ul><p><strong>权限管理</strong>：</p><ul><li>可以控制 AI 访问哪些资源</li><li>可以限制操作类型（读、写、执行等）</li><li>支持基于角色的访问控制（RBAC）</li></ul><h3 id="_3-轻量高效协议" tabindex="-1">3. 轻量高效协议 <a class="header-anchor" href="#_3-轻量高效协议" aria-label="Permalink to &quot;3. 轻量高效协议&quot;">​</a></h3><p><strong>技术架构</strong>：</p><ul><li><strong>通信协议</strong>：基于 JSON-RPC 2.0</li><li><strong>传输层</strong>：支持多种传输方式（HTTP、WebSocket、stdio 等）</li><li><strong>数据格式</strong>：JSON 格式，易于解析和处理</li><li><strong>扩展性</strong>：协议设计简洁，易于扩展</li></ul><p><strong>优势</strong>：</p><ul><li>协议设计简洁高效</li><li>易于理解和实现</li><li>良好的扩展性和兼容性</li><li>低延迟、高性能</li></ul><h2 id="mcp-的工作原理" tabindex="-1">MCP 的工作原理 <a class="header-anchor" href="#mcp-的工作原理" aria-label="Permalink to &quot;MCP 的工作原理&quot;">​</a></h2><h3 id="架构组件" tabindex="-1">架构组件 <a class="header-anchor" href="#架构组件" aria-label="Permalink to &quot;架构组件&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────┐</span></span>
<span class="line"><span>│   LLM 应用  │</span></span>
<span class="line"><span>│  (Claude)   │</span></span>
<span class="line"><span>└──────┬──────┘</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       │ MCP 协议</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>┌──────▼──────┐</span></span>
<span class="line"><span>│  MCP 服务器 │</span></span>
<span class="line"><span>│  (Server)   │</span></span>
<span class="line"><span>└──────┬──────┘</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>       │ 访问</span></span>
<span class="line"><span>       │</span></span>
<span class="line"><span>┌──────▼──────┐</span></span>
<span class="line"><span>│  外部资源   │</span></span>
<span class="line"><span>│ (数据源/工具)│</span></span>
<span class="line"><span>└─────────────┘</span></span></code></pre></div><h3 id="工作流程" tabindex="-1">工作流程 <a class="header-anchor" href="#工作流程" aria-label="Permalink to &quot;工作流程&quot;">​</a></h3><ol><li><strong>连接建立</strong>：LLM 应用通过 MCP 协议连接到 MCP 服务器</li><li><strong>资源发现</strong>：MCP 服务器向 LLM 应用暴露可用的资源和工具</li><li><strong>请求处理</strong>：LLM 应用通过 MCP 协议请求访问资源或执行操作</li><li><strong>安全验证</strong>：MCP 服务器验证权限并执行操作</li><li><strong>结果返回</strong>：操作结果通过 MCP 协议返回给 LLM 应用</li></ol><h3 id="json-rpc-消息格式" tabindex="-1">JSON-RPC 消息格式 <a class="header-anchor" href="#json-rpc-消息格式" aria-label="Permalink to &quot;JSON-RPC 消息格式&quot;">​</a></h3><p>MCP 使用 JSON-RPC 2.0 作为通信协议：</p><p><strong>请求示例</strong>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;jsonrpc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;method&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;resources/read&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;params&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;uri&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;file:///path/to/file.txt&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p><strong>响应示例</strong>：</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;jsonrpc&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;2.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;result&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;contents&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;文件内容...&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="mcp-的应用场景" tabindex="-1">MCP 的应用场景 <a class="header-anchor" href="#mcp-的应用场景" aria-label="Permalink to &quot;MCP 的应用场景&quot;">​</a></h2><h3 id="_1-文件系统访问" tabindex="-1">1. 文件系统访问 <a class="header-anchor" href="#_1-文件系统访问" aria-label="Permalink to &quot;1. 文件系统访问&quot;">​</a></h3><ul><li>读取和写入文件</li><li>浏览目录结构</li><li>文件搜索和过滤</li></ul><h3 id="_2-数据库集成" tabindex="-1">2. 数据库集成 <a class="header-anchor" href="#_2-数据库集成" aria-label="Permalink to &quot;2. 数据库集成&quot;">​</a></h3><ul><li>连接各种数据库（MySQL、PostgreSQL、MongoDB 等）</li><li>执行 SQL 查询</li><li>数据分析和处理</li></ul><h3 id="_3-api-集成" tabindex="-1">3. API 集成 <a class="header-anchor" href="#_3-api-集成" aria-label="Permalink to &quot;3. API 集成&quot;">​</a></h3><ul><li>调用 REST API</li><li>访问第三方服务</li><li>数据同步和更新</li></ul><h3 id="_4-开发工具集成" tabindex="-1">4. 开发工具集成 <a class="header-anchor" href="#_4-开发工具集成" aria-label="Permalink to &quot;4. 开发工具集成&quot;">​</a></h3><ul><li>代码编辑器集成</li><li>版本控制系统（Git）</li><li>构建和部署工具</li></ul><h2 id="mcp-的优势" tabindex="-1">MCP 的优势 <a class="header-anchor" href="#mcp-的优势" aria-label="Permalink to &quot;MCP 的优势&quot;">​</a></h2><h3 id="_1-降低集成成本" tabindex="-1">1. 降低集成成本 <a class="header-anchor" href="#_1-降低集成成本" aria-label="Permalink to &quot;1. 降低集成成本&quot;">​</a></h3><ul><li><strong>统一标准</strong>：所有 AI 工具只需实现一次 MCP 协议</li><li><strong>可复用性</strong>：一个 MCP 服务器可以被多个 AI 工具使用</li><li><strong>减少开发量</strong>：不需要为每个 AI 工具单独开发集成代码</li></ul><h3 id="_2-提高安全性" tabindex="-1">2. 提高安全性 <a class="header-anchor" href="#_2-提高安全性" aria-label="Permalink to &quot;2. 提高安全性&quot;">​</a></h3><ul><li><strong>权限控制</strong>：细粒度的权限管理</li><li><strong>审计日志</strong>：完整的操作记录</li><li><strong>安全隔离</strong>：基于宿主应用的安全代理模式</li></ul><h3 id="_3-增强可扩展性" tabindex="-1">3. 增强可扩展性 <a class="header-anchor" href="#_3-增强可扩展性" aria-label="Permalink to &quot;3. 增强可扩展性&quot;">​</a></h3><ul><li><strong>易于扩展</strong>：协议设计简洁，易于添加新功能</li><li><strong>向后兼容</strong>：支持版本管理和兼容性</li><li><strong>灵活部署</strong>：支持多种部署方式</li></ul><h2 id="mcp-的发展现状" tabindex="-1">MCP 的发展现状 <a class="header-anchor" href="#mcp-的发展现状" aria-label="Permalink to &quot;MCP 的发展现状&quot;">​</a></h2><h3 id="时间线" tabindex="-1">时间线 <a class="header-anchor" href="#时间线" aria-label="Permalink to &quot;时间线&quot;">​</a></h3><ul><li><strong>2024 年 11 月</strong>：Anthropic 正式推出 MCP 标准</li><li><strong>2025 年 5 月</strong>：首届 MCP 开发者峰会在旧金山举行</li><li><strong>持续发展</strong>：不断优化安全性、可观测性和可扩展性</li></ul><h3 id="业界讨论" tabindex="-1">业界讨论 <a class="header-anchor" href="#业界讨论" aria-label="Permalink to &quot;业界讨论&quot;">​</a></h3><p><strong>支持观点</strong>：</p><ul><li>MCP 提供了标准化的接口，降低了集成成本</li><li>实现了以超低摩擦的方式丰富 LLM 的上下文</li><li>解决了 AI 应用访问外部资源的标准化问题</li></ul><p><strong>质疑观点</strong>：</p><ul><li>可能只是为 AI 打造的 Zapier，增加了额外的步骤</li><li>存在性能开销和复杂性</li><li>需要额外的维护成本</li></ul><h3 id="未来展望" tabindex="-1">未来展望 <a class="header-anchor" href="#未来展望" aria-label="Permalink to &quot;未来展望&quot;">​</a></h3><p><strong>发展方向</strong>：</p><ol><li><strong>增强安全性</strong>：更细粒度的权限控制和审计功能</li><li><strong>提升可观测性</strong>：更好的监控和调试工具</li><li><strong>提高可扩展性</strong>：支持更多类型的资源和服务</li><li><strong>企业级特性</strong>：满足企业级应用的需求</li></ol><h2 id="mcp-与-cursor" tabindex="-1">MCP 与 Cursor <a class="header-anchor" href="#mcp-与-cursor" aria-label="Permalink to &quot;MCP 与 Cursor&quot;">​</a></h2><p>Cursor 作为 AI 代码编辑器，也支持 MCP 协议：</p><h3 id="cursor-中的-mcp" tabindex="-1">Cursor 中的 MCP <a class="header-anchor" href="#cursor-中的-mcp" aria-label="Permalink to &quot;Cursor 中的 MCP&quot;">​</a></h3><ul><li><strong>浏览器扩展</strong>：通过 MCP 服务器访问浏览器功能</li><li><strong>文件系统</strong>：通过 MCP 访问项目文件</li><li><strong>外部工具</strong>：集成各种开发工具和服务</li></ul><h3 id="使用示例" tabindex="-1">使用示例 <a class="header-anchor" href="#使用示例" aria-label="Permalink to &quot;使用示例&quot;">​</a></h3><p>在 Cursor 中，MCP 服务器可以提供：</p><ul><li>代码补全和生成</li><li>文件操作和搜索</li><li>外部 API 调用</li><li>数据库查询</li></ul><h2 id="总结" tabindex="-1">总结 <a class="header-anchor" href="#总结" aria-label="Permalink to &quot;总结&quot;">​</a></h2><p>MCP（模型上下文协议）作为一项新兴的开放标准，旨在解决 LLM 与外部工具和数据源集成的挑战。它通过标准化接口、安全可控架构和轻量高效协议，为 AI 应用提供了统一的外部资源访问方式。</p><h3 id="核心价值" tabindex="-1">核心价值 <a class="header-anchor" href="#核心价值" aria-label="Permalink to &quot;核心价值&quot;">​</a></h3><ol><li><strong>标准化</strong>：统一的协议规范，降低集成成本</li><li><strong>安全性</strong>：细粒度权限控制和完整审计</li><li><strong>高效性</strong>：轻量级协议，高性能通信</li><li><strong>可扩展性</strong>：易于扩展和集成新功能</li></ol><h3 id="适用场景" tabindex="-1">适用场景 <a class="header-anchor" href="#适用场景" aria-label="Permalink to &quot;适用场景&quot;">​</a></h3><ul><li>AI 应用需要访问外部数据源</li><li>需要集成多种工具和服务</li><li>要求安全可控的数据访问</li><li>企业级 AI 应用开发</li></ul><hr><p><strong>参考资源</strong>：</p><ul><li><a href="https://modelcontextprotocol.io/" target="_blank" rel="noreferrer">MCP 官方文档</a></li><li><a href="https://github.com/modelcontextprotocol" target="_blank" rel="noreferrer">MCP GitHub 仓库</a></li><li><a href="https://www.anthropic.com/" target="_blank" rel="noreferrer">Anthropic 博客</a></li></ul><p><strong>最后更新</strong>：2026年1月11日</p>`,76)]))}const g=s(t,[["render",r]]);export{u as __pageData,g as default};
