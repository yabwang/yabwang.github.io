---
order: 12
---

# Day 12 - æ»‘åŠ¨çª—å£è¿›é˜¶

> ğŸ“… æ—¥æœŸï¼š2026å¹´1æœˆ19æ—¥  
> ğŸ¯ ä¸»é¢˜ï¼šæ»‘åŠ¨çª—å£è¿›é˜¶ + æœ€é•¿çª—å£ä¸å›ºå®šé•¿åº¦çª—å£

## ä»Šæ—¥é¢˜ç›®

### é¢˜ç›®1ï¼šæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² (Longest Substring Without Repeating Characters)

**éš¾åº¦**ï¼šâ­â­ ä¸­ç­‰

**é“¾æ¥**ï¼š[LeetCode 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)

#### é¢˜ç›®æè¿°

ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² `s`ï¼Œè¯·ä½ æ‰¾å‡ºå…¶ä¸­ä¸å«æœ‰é‡å¤å­—ç¬¦çš„ **æœ€é•¿å­ä¸²** çš„é•¿åº¦ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥: s = "abcabcbb"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "abc"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚

è¾“å…¥: s = "bbbbb"
è¾“å‡º: 1
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "b"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 1ã€‚

è¾“å…¥: s = "pwwkew"
è¾“å‡º: 3
è§£é‡Š: å› ä¸ºæ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²æ˜¯ "wke"ï¼Œæ‰€ä»¥å…¶é•¿åº¦ä¸º 3ã€‚
     è¯·æ³¨æ„ï¼Œä½ çš„ç­”æ¡ˆå¿…é¡»æ˜¯ å­ä¸² çš„é•¿åº¦ï¼Œ"pwke" æ˜¯ä¸€ä¸ªå­åºåˆ—ï¼Œä¸æ˜¯å­ä¸²ã€‚
```

**æç¤º**ï¼š
- `0 <= s.length <= 5 * 10^4`
- `s` ç”±è‹±æ–‡å­—æ¯ã€æ•°å­—ã€ç¬¦å·å’Œç©ºæ ¼ç»„æˆ

#### è§£é¢˜æ€è·¯

**æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£ + å“ˆå¸Œè¡¨** âœ… æ¨è

æ ¸å¿ƒæ€æƒ³ï¼š
1. ç”¨å“ˆå¸Œè¡¨ `map` è®°å½•æ¯ä¸ªå­—ç¬¦æœ€åå‡ºç°çš„ä½ç½®ï¼ˆç´¢å¼•ï¼‰
2. ç”¨ `left`ã€`right` è¡¨ç¤ºçª—å£ `[left, right]`
3. `right` å³ç§»ï¼Œå¦‚æœ `s[right]` åœ¨ `map` ä¸­ä¸”ä½ç½® `>= left`ï¼Œè¯´æ˜çª—å£å†…å‡ºç°é‡å¤ï¼Œå°† `left` ç§»åŠ¨åˆ° `map.get(s[right]) + 1`
4. æ›´æ–° `map` ä¸­ `s[right]` çš„ä½ç½®ä¸º `right`ï¼Œå¹¶ç”¨ `right - left + 1` æ›´æ–°æœ€å¤§é•¿åº¦
5. é‡å¤ç›´åˆ° `right` æ‰«å®Œå­—ç¬¦ä¸²

**å…³é”®ç‚¹**ï¼š
- ç”¨å“ˆå¸Œè¡¨è®°å½•å­—ç¬¦æœ€åå‡ºç°ä½ç½®ï¼Œé¿å…é‡å¤æ‰«æ
- åªæœ‰å½“é‡å¤å­—ç¬¦åœ¨çª—å£å†…ï¼ˆ`>= left`ï¼‰æ—¶æ‰ç§»åŠ¨ `left`
- æ—¶é—´å¤æ‚åº¦ O(n)ï¼Œç©ºé—´å¤æ‚åº¦ O(min(n, m))ï¼Œm ä¸ºå­—ç¬¦é›†å¤§å°

#### ä»£ç å®ç°

```java
import java.util.*;

class Solution {
    public int lengthOfLongestSubstring(String s) {
        if (s == null || s.length() == 0) {
            return 0;
        }

        Map<Character, Integer> map = new HashMap<>();
        int left = 0;
        int maxLen = 0;

        for (int right = 0; right < s.length(); right++) {
            char c = s.charAt(right);
            // å¦‚æœå­—ç¬¦å·²å­˜åœ¨ä¸”åœ¨å½“å‰çª—å£å†…ï¼Œç§»åŠ¨å·¦è¾¹ç•Œ
            if (map.containsKey(c) && map.get(c) >= left) {
                left = map.get(c) + 1;
            }
            // æ›´æ–°å­—ç¬¦ä½ç½®
            map.put(c, right);
            // æ›´æ–°æœ€å¤§é•¿åº¦
            maxLen = Math.max(maxLen, right - left + 1);
        }

        return maxLen;
    }
}
```

**æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£ + å­—ç¬¦æ•°ç»„ï¼ˆä¼˜åŒ–ï¼‰**

å¦‚æœå­—ç¬¦é›†è¾ƒå°ï¼ˆå¦‚åªæœ‰å­—æ¯ï¼‰ï¼Œå¯ä»¥ç”¨æ•°ç»„ä»£æ›¿å“ˆå¸Œè¡¨ï¼š

```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        if (s == null || s.length() == 0) {
            return 0;
        }

        // ASCII å­—ç¬¦é›†ï¼Œ128 è¶³å¤Ÿ
        int[] lastIndex = new int[128];
        Arrays.fill(lastIndex, -1);
        
        int left = 0;
        int maxLen = 0;

        for (int right = 0; right < s.length(); right++) {
            char c = s.charAt(right);
            // å¦‚æœå­—ç¬¦å·²å­˜åœ¨ä¸”åœ¨å½“å‰çª—å£å†…ï¼Œç§»åŠ¨å·¦è¾¹ç•Œ
            if (lastIndex[c] >= left) {
                left = lastIndex[c] + 1;
            }
            // æ›´æ–°å­—ç¬¦ä½ç½®
            lastIndex[c] = right;
            // æ›´æ–°æœ€å¤§é•¿åº¦
            maxLen = Math.max(maxLen, right - left + 1);
        }

        return maxLen;
    }
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œæ¯ä¸ªå­—ç¬¦æœ€å¤šè®¿é—®ä¸€æ¬¡
- ç©ºé—´å¤æ‚åº¦ï¼šO(min(n, m))ï¼Œm ä¸ºå­—ç¬¦é›†å¤§å°ï¼ˆå“ˆå¸Œè¡¨ï¼‰æˆ– O(m)ï¼ˆæ•°ç»„ï¼‰

---

### é¢˜ç›®2ï¼šæ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯ (Find All Anagrams in a String)

**éš¾åº¦**ï¼šâ­â­ ä¸­ç­‰

**é“¾æ¥**ï¼š[LeetCode 438. æ‰¾åˆ°å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—æ¯å¼‚ä½è¯](https://leetcode.cn/problems/find-all-anagrams-in-a-string/)

#### é¢˜ç›®æè¿°

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² `s` å’Œ `p`ï¼Œæ‰¾åˆ° `s` ä¸­æ‰€æœ‰ `p` çš„ **å­—æ¯å¼‚ä½è¯** çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚

**å­—æ¯å¼‚ä½è¯** æŒ‡ç”±ç›¸åŒå­—æ¯é‡æ’åˆ—å½¢æˆçš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬ç›¸åŒçš„å­—ç¬¦ä¸²ï¼‰ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥: s = "cbaebabacd", p = "abc"
è¾“å‡º: [0,6]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å­—æ¯å¼‚ä½è¯ã€‚

è¾“å…¥: s = "abab", p = "ab"
è¾“å‡º: [0,1,2]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å­—æ¯å¼‚ä½è¯ã€‚
```

**æç¤º**ï¼š
- `1 <= s.length, p.length <= 3 * 10^4`
- `s` å’Œ `p` ä»…åŒ…å«å°å†™å­—æ¯

#### è§£é¢˜æ€è·¯

**æ–¹æ³•ä¸€ï¼šæ»‘åŠ¨çª—å£ + å“ˆå¸Œè¡¨ï¼ˆå›ºå®šé•¿åº¦çª—å£ï¼‰** âœ… æ¨è

æ ¸å¿ƒæ€æƒ³ï¼š
1. ç”¨å“ˆå¸Œè¡¨ `need` ç»Ÿè®¡ `p` ä¸­æ¯ä¸ªå­—ç¬¦éœ€è¦çš„æ¬¡æ•°ï¼Œç”¨ `window` ç»Ÿè®¡å½“å‰çª—å£ä¸­å„å­—ç¬¦å‡ºç°æ¬¡æ•°
2. ç”¨ `valid` è¡¨ç¤ºå½“å‰çª—å£å†…å·²æ»¡è¶³ã€Œéœ€è¦ã€çš„å­—ç¬¦ç§ç±»æ•°
3. çª—å£å›ºå®šé•¿åº¦ä¸º `p.length()`ï¼Œ`right` å³ç§»åŠ å…¥å­—ç¬¦ï¼Œ`left` åŒæ­¥å³ç§»ç§»å‡ºå­—ç¬¦
4. å½“çª—å£é•¿åº¦ç­‰äº `p.length()` ä¸” `valid == need.size()` æ—¶ï¼Œè¯´æ˜æ‰¾åˆ°å­—æ¯å¼‚ä½è¯ï¼Œè®°å½• `left`
5. é‡å¤ç›´åˆ° `right` æ‰«å®Œå­—ç¬¦ä¸²

**å…³é”®ç‚¹**ï¼š
- å›ºå®šé•¿åº¦çª—å£ï¼šçª—å£å¤§å°å§‹ç»ˆä¸º `p.length()`
- ç”¨ `valid` ä¸ `need.size()` æ¯”è¾ƒåˆ¤æ–­æ˜¯å¦åŒ¹é…
- çª—å£ç§»åŠ¨æ—¶ï¼Œå…ˆç§»å…¥ `right`ï¼Œå†ç§»å‡º `left`ï¼Œä¿æŒçª—å£å¤§å°ä¸å˜

#### ä»£ç å®ç°

```java
import java.util.*;

class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        List<Integer> result = new ArrayList<>();
        if (s == null || p == null || s.length() < p.length()) {
            return result;
        }

        Map<Character, Integer> need = new HashMap<>();
        Map<Character, Integer> window = new HashMap<>();

        // ç»Ÿè®¡ p ä¸­æ¯ä¸ªå­—ç¬¦éœ€è¦çš„æ¬¡æ•°
        for (int i = 0; i < p.length(); i++) {
            char c = p.charAt(i);
            need.put(c, need.getOrDefault(c, 0) + 1);
        }

        int left = 0;
        int valid = 0;

        for (int right = 0; right < s.length(); right++) {
            // ç§»å…¥å­—ç¬¦
            char c = s.charAt(right);
            if (need.containsKey(c)) {
                window.put(c, window.getOrDefault(c, 0) + 1);
                if (window.get(c).equals(need.get(c))) {
                    valid++;
                }
            }

            // çª—å£å¤§å°è¶…è¿‡ p.length()ï¼Œç§»å‡ºå­—ç¬¦
            if (right - left + 1 > p.length()) {
                char leftChar = s.charAt(left);
                if (need.containsKey(leftChar)) {
                    if (window.get(leftChar).equals(need.get(leftChar))) {
                        valid--;
                    }
                    window.put(leftChar, window.get(leftChar) - 1);
                }
                left++;
            }

            // çª—å£å¤§å°ç­‰äº p.length() ä¸” valid ç­‰äº need.size()ï¼Œæ‰¾åˆ°å­—æ¯å¼‚ä½è¯
            if (right - left + 1 == p.length() && valid == need.size()) {
                result.add(left);
            }
        }

        return result;
    }
}
```

**æ–¹æ³•äºŒï¼šæ»‘åŠ¨çª—å£ + æ•°ç»„ï¼ˆä¼˜åŒ–ï¼‰**

å¦‚æœå­—ç¬¦é›†è¾ƒå°ï¼ˆå¦‚åªæœ‰å°å†™å­—æ¯ï¼‰ï¼Œå¯ä»¥ç”¨æ•°ç»„ä»£æ›¿å“ˆå¸Œè¡¨ï¼š

```java
class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        List<Integer> result = new ArrayList<>();
        if (s == null || p == null || s.length() < p.length()) {
            return result;
        }

        int[] need = new int[26];
        int[] window = new int[26];

        // ç»Ÿè®¡ p ä¸­æ¯ä¸ªå­—ç¬¦éœ€è¦çš„æ¬¡æ•°
        for (int i = 0; i < p.length(); i++) {
            need[p.charAt(i) - 'a']++;
        }

        int left = 0;
        int valid = 0;
        int needCount = 0;
        
        // ç»Ÿè®¡ need ä¸­éé›¶å­—ç¬¦çš„ç§ç±»æ•°
        for (int count : need) {
            if (count > 0) {
                needCount++;
            }
        }

        for (int right = 0; right < s.length(); right++) {
            // ç§»å…¥å­—ç¬¦
            int c = s.charAt(right) - 'a';
            if (need[c] > 0) {
                window[c]++;
                if (window[c] == need[c]) {
                    valid++;
                }
            }

            // çª—å£å¤§å°è¶…è¿‡ p.length()ï¼Œç§»å‡ºå­—ç¬¦
            if (right - left + 1 > p.length()) {
                int leftChar = s.charAt(left) - 'a';
                if (need[leftChar] > 0) {
                    if (window[leftChar] == need[leftChar]) {
                        valid--;
                    }
                    window[leftChar]--;
                }
                left++;
            }

            // çª—å£å¤§å°ç­‰äº p.length() ä¸” valid ç­‰äº needCountï¼Œæ‰¾åˆ°å­—æ¯å¼‚ä½è¯
            if (right - left + 1 == p.length() && valid == needCount) {
                result.add(left);
            }
        }

        return result;
    }
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(|s| + |p|)
- ç©ºé—´å¤æ‚åº¦ï¼šO(|p|)ï¼Œå“ˆå¸Œè¡¨æˆ–æ•°ç»„å­˜å‚¨å­—ç¬¦

---

## ä»Šæ—¥æ€»ç»“

### å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ

1. **æœ€é•¿æ— é‡å¤å­ä¸²**ï¼šç”¨å“ˆå¸Œè¡¨è®°å½•å­—ç¬¦æœ€åå‡ºç°ä½ç½®ï¼Œé‡åˆ°é‡å¤æ—¶ç›´æ¥è·³åˆ°é‡å¤å­—ç¬¦ä¹‹å
2. **å›ºå®šé•¿åº¦çª—å£**ï¼šçª—å£å¤§å°å›ºå®šï¼Œå³ç§»æ—¶åŒæ­¥ç§»å‡ºå·¦è¾¹ç•Œï¼Œé€‚ç”¨äºåŒ¹é…ã€æ’åˆ—ç­‰åœºæ™¯
3. **å­—ç¬¦æ•°ç»„ä¼˜åŒ–**ï¼šå­—ç¬¦é›†è¾ƒå°æ—¶ç”¨æ•°ç»„ä»£æ›¿å“ˆå¸Œè¡¨ï¼Œå‡å°‘ç©ºé—´å¼€é”€
4. **çª—å£æ”¶ç¼©æ—¶æœº**ï¼šæœ€é•¿çª—å£åœ¨é‡åˆ°é‡å¤æ—¶æ”¶ç¼©ï¼Œå›ºå®šçª—å£åœ¨è¶…è¿‡é•¿åº¦æ—¶æ”¶ç¼©

### å…³é”®æŠ€å·§

| æŠ€å·§           | é€‚ç”¨åœºæ™¯               | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ |
|----------------|------------------------|------------|------------|
| æœ€é•¿çª—å£       | æ— é‡å¤å­—ç¬¦ã€æ»¡è¶³æ¡ä»¶æœ€é•¿ | O(n)       | O(min(n, m)) |
| å›ºå®šé•¿åº¦çª—å£   | å­—æ¯å¼‚ä½è¯ã€æ’åˆ—åŒ¹é…    | O(n)       | O(k)       |
| å“ˆå¸Œè¡¨è®°å½•ä½ç½® | é¿å…é‡å¤æ‰«æ            | O(n)       | O(m)       |
| æ•°ç»„ä»£æ›¿å“ˆå¸Œè¡¨ | å­—ç¬¦é›†è¾ƒå°ï¼ˆå¦‚26ä¸ªå­—æ¯ï¼‰| O(n)       | O(m)       |

### æ»‘åŠ¨çª—å£è¿›é˜¶è¦ç‚¹

1. **æœ€é•¿çª—å£æ¨¡å¼**ï¼š
   - å³è¾¹ç•Œæ‰©å±•ï¼Œé‡åˆ°é‡å¤æˆ–ä¸ç¬¦åˆæ¡ä»¶æ—¶æ”¶ç¼©å·¦è¾¹ç•Œ
   - ç”¨å“ˆå¸Œè¡¨è®°å½•å­—ç¬¦ä½ç½®ï¼Œå¿«é€Ÿå®šä½é‡å¤å­—ç¬¦
   - é€‚ç”¨äºï¼šæ— é‡å¤å­—ç¬¦æœ€é•¿å­ä¸²ã€æ»¡è¶³æ¡ä»¶æœ€é•¿å­æ•°ç»„

2. **å›ºå®šé•¿åº¦çª—å£æ¨¡å¼**ï¼š
   - çª—å£å¤§å°å›ºå®šï¼Œå³ç§»æ—¶åŒæ­¥ç§»å‡ºå·¦è¾¹ç•Œ
   - ç”¨ `valid` åˆ¤æ–­çª—å£æ˜¯å¦æ»¡è¶³æ¡ä»¶
   - é€‚ç”¨äºï¼šå­—æ¯å¼‚ä½è¯ã€å­—ç¬¦ä¸²æ’åˆ—ã€å›ºå®šé•¿åº¦åŒ¹é…

3. **å¸¸è§é”™è¯¯**ï¼š
   - æœ€é•¿çª—å£ï¼šå¿˜è®°æ£€æŸ¥é‡å¤å­—ç¬¦æ˜¯å¦åœ¨çª—å£å†…ï¼ˆ`>= left`ï¼‰
   - å›ºå®šçª—å£ï¼šçª—å£å¤§å°åˆ¤æ–­é”™è¯¯ï¼Œåº”è¯¥åœ¨ç§»å…¥ååˆ¤æ–­
   - å­—ç¬¦æ•°ç»„ï¼šå¿˜è®°åˆå§‹åŒ–æˆ–ç´¢å¼•è®¡ç®—é”™è¯¯ï¼ˆ`c - 'a'`ï¼‰

### ç›¸ä¼¼é¢˜ç›®æ¨è

- [å­—ç¬¦ä¸²çš„æ’åˆ—](https://leetcode.cn/problems/permutation-in-string/) - å›ºå®šé•¿åº¦çª—å£åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ’åˆ—
- [æœ€å¤§è¿ç»­1çš„ä¸ªæ•° III](https://leetcode.cn/problems/max-consecutive-ones-iii/) - æœ€é•¿çª—å£ + æ¡ä»¶è½¬æ¢
- [æ›¿æ¢åçš„æœ€é•¿é‡å¤å­—ç¬¦](https://leetcode.cn/problems/longest-repeating-character-replacement/) - æœ€é•¿çª—å£ + å­—ç¬¦æ›¿æ¢
- [æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.cn/problems/sliding-window-maximum/) - å›ºå®šé•¿åº¦çª—å£ + å•è°ƒé˜Ÿåˆ—

### æ˜æ—¥è®¡åˆ’

- Day 13 æ ˆ
- ç»ƒä¹ ï¼šæ ˆçš„åŸºæœ¬æ“ä½œã€æ‹¬å·åŒ¹é…ã€è¡¨è¾¾å¼æ±‚å€¼ç­‰é¢˜ç›®
