---
order: 14
---

# Day 14 - é˜Ÿåˆ—

> ğŸ“… æ—¥æœŸï¼š2026å¹´1æœˆ21æ—¥  
> ğŸ¯ ä¸»é¢˜ï¼šé˜Ÿåˆ—åŸºç¡€ + ç”¨é˜Ÿåˆ—å®ç°æ ˆä¸å•è°ƒé˜Ÿåˆ—

## ä»Šæ—¥é¢˜ç›®

### é¢˜ç›®1ï¼šç”¨é˜Ÿåˆ—å®ç°æ ˆ (Implement Stack using Queues)

**éš¾åº¦**ï¼šâ­ ç®€å•

**é“¾æ¥**ï¼š[LeetCode 225. ç”¨é˜Ÿåˆ—å®ç°æ ˆ](https://leetcode.cn/problems/implement-stack-using-queues/)

#### é¢˜ç›®æè¿°

è¯·ä½ ä»…ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ—å®ç°ä¸€ä¸ªåå…¥å…ˆå‡ºï¼ˆLIFOï¼‰çš„æ ˆï¼Œå¹¶æ”¯æŒæ™®é€šæ ˆçš„å…¨éƒ¨å››ç§æ“ä½œï¼ˆ`push`ã€`top`ã€`pop` å’Œ `empty`ï¼‰ã€‚

å®ç° `MyStack` ç±»ï¼š

- `void push(int x)` å°†å…ƒç´  x å‹å…¥æ ˆé¡¶ã€‚
- `int pop()` ç§»é™¤å¹¶è¿”å›æ ˆé¡¶å…ƒç´ ã€‚
- `int top()` è¿”å›æ ˆé¡¶å…ƒç´ ã€‚
- `boolean empty()` å¦‚æœæ ˆæ˜¯ç©ºçš„ï¼Œè¿”å› `true`ï¼›å¦åˆ™ï¼Œè¿”å› `false`ã€‚

**æ³¨æ„**ï¼šä½ åªèƒ½ä½¿ç”¨é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œ â€”â€” ä¹Ÿå°±æ˜¯ `push to back`ã€`peek/pop from front`ã€`size` å’Œ `is empty` è¿™äº›æ“ä½œã€‚ä½ æ‰€ä½¿ç”¨çš„è¯­è¨€ä¹Ÿè®¸ä¸æ”¯æŒé˜Ÿåˆ—ã€‚ä½ å¯ä»¥ä½¿ç”¨ list æˆ–è€… dequeï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰æ¥æ¨¡æ‹Ÿä¸€ä¸ªé˜Ÿåˆ—ï¼Œåªè¦æ˜¯æ ‡å‡†çš„é˜Ÿåˆ—æ“ä½œå³å¯ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼š
["MyStack", "push", "push", "top", "pop", "empty"]
[[], [1], [2], [], [], []]
è¾“å‡ºï¼š
[null, null, null, 2, 2, false]

è§£é‡Šï¼š
MyStack myStack = new MyStack();
myStack.push(1);
myStack.push(2);
myStack.top();   // è¿”å› 2
myStack.pop();   // è¿”å› 2
myStack.empty(); // è¿”å› False
```

**æç¤º**ï¼š
- `1 <= x <= 9`
- æœ€å¤šè°ƒç”¨ `100` æ¬¡ `push`ã€`pop`ã€`top` å’Œ `empty`
- æ¯æ¬¡è°ƒç”¨ `pop` å’Œ `top` éƒ½ä¿è¯æ ˆä¸ä¸ºç©º

#### è§£é¢˜æ€è·¯

**æ–¹æ³•ä¸€ï¼šä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¿æŒä¸€ä¸ªä¸ºç©º** âœ… æ¨è

æ ¸å¿ƒæ€æƒ³ï¼š
1. ä½¿ç”¨ä¸¤ä¸ªé˜Ÿåˆ— `q1`ã€`q2`ï¼Œå§‹ç»ˆä¿è¯ã€Œæœ‰å…ƒç´ çš„é‚£ä¸€ä¸ªã€çš„é˜Ÿå°¾å°±æ˜¯æ ˆé¡¶
2. **push(x)**ï¼šå°† x åŠ å…¥å½“å‰æœ‰å…ƒç´ çš„é‚£ä¸ªé˜Ÿåˆ—ï¼ˆè‹¥éƒ½ç©ºåˆ™ä»»é€‰ä¸€ä¸ªï¼‰ï¼Œå³æˆä¸ºæ–°çš„æ ˆé¡¶
3. **top()**ï¼šæœ‰å…ƒç´ é˜Ÿåˆ—çš„é˜Ÿå°¾å°±æ˜¯æ ˆé¡¶ï¼›è‹¥ç”¨æ ‡å‡†é˜Ÿåˆ—æ— æ³•ç›´æ¥å–é˜Ÿå°¾ï¼Œå¯ç”¨ã€ŒæŠŠé™¤æœ€åä¸€ä¸ªå¤–çš„å…ƒç´ å…¨éƒ¨ç§»åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ã€çš„æ–¹å¼ï¼Œæœ€åé‚£ä¸ªå°±æ˜¯æ ˆé¡¶ï¼Œå†ç§»å›å»
4. **pop()**ï¼šåŒæ ·æŠŠé™¤æœ€åä¸€ä¸ªå¤–çš„å…ƒç´ ç§»åˆ°å¦ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæœ€åä¸€ä¸ªå‡ºé˜Ÿå³ä¸ºæ ˆé¡¶å…ƒç´ 
5. **empty()**ï¼šä¸¤ä¸ªé˜Ÿåˆ—éƒ½ä¸ºç©ºåˆ™æ ˆä¸ºç©º

æ›´ç®€å•çš„å®ç°ï¼š**æ¯æ¬¡ push æ—¶æŠŠæ–°å…ƒç´ æ”¾å…¥ç©ºé˜Ÿåˆ—ï¼Œå†æŠŠå¦ä¸€é˜Ÿåˆ—ä¸­æ‰€æœ‰å…ƒç´ ä¾æ¬¡å…¥é˜Ÿåˆ°è¯¥é˜Ÿåˆ—**ï¼Œè¿™æ ·æ–°å…ƒç´ å°±åœ¨é˜Ÿå¤´ï¼Œç­‰ä»·äºæ ˆé¡¶ã€‚

**æ–¹æ³•äºŒï¼šä¸€ä¸ªé˜Ÿåˆ—ï¼Œpush æ—¶ç¿»è½¬**

ç”¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œæ¯æ¬¡ `push(x)` æ—¶å…ˆæŠŠ x å…¥é˜Ÿï¼Œå†æŠŠé˜Ÿä¸­å·²æœ‰çš„å…ƒç´ ä¾æ¬¡å‡ºé˜Ÿå†å…¥é˜Ÿï¼Œè¿™æ · x å°±åˆ°äº†é˜Ÿå¤´ï¼Œå³æ ˆé¡¶ã€‚`pop`/`top` ç›´æ¥å–é˜Ÿå¤´å³å¯ã€‚

#### ä»£ç å®ç°

**ä¸¤ä¸ªé˜Ÿåˆ—å®ç°ï¼š**

```java
import java.util.LinkedList;
import java.util.Queue;

class MyStack {
    private Queue<Integer> q1;
    private Queue<Integer> q2;

    public MyStack() {
        q1 = new LinkedList<>();
        q2 = new LinkedList<>();
    }

    // ä¿è¯æ–°å…ƒç´ åœ¨é˜Ÿå¤´ï¼ˆæ ˆé¡¶ï¼‰ï¼šæŠŠæ–°å…ƒç´ æ”¾å…¥ç©ºé˜Ÿåˆ—ï¼Œå†æŠŠå¦ä¸€é˜Ÿåˆ—å…¨éƒ¨ç§»è¿‡æ¥
    public void push(int x) {
        if (q1.isEmpty()) {
            q1.offer(x);
            while (!q2.isEmpty()) {
                q1.offer(q2.poll());
            }
        } else {
            q2.offer(x);
            while (!q1.isEmpty()) {
                q2.offer(q1.poll());
            }
        }
    }

    public int pop() {
        if (!q1.isEmpty()) {
            return q1.poll();
        }
        return q2.poll();
    }

    public int top() {
        if (!q1.isEmpty()) {
            return q1.peek();
        }
        return q2.peek();
    }

    public boolean empty() {
        return q1.isEmpty() && q2.isEmpty();
    }
}
```

**ä¸€ä¸ªé˜Ÿåˆ—å®ç°ï¼ˆpush æ—¶ç¿»è½¬ï¼‰ï¼š**

```java
import java.util.LinkedList;
import java.util.Queue;

class MyStack {
    private Queue<Integer> queue;

    public MyStack() {
        queue = new LinkedList<>();
    }

    // æ–°å…ƒç´ å…¥é˜Ÿåï¼ŒæŠŠåŸé˜Ÿåˆ—å…ƒç´ ä¾æ¬¡å‡ºé˜Ÿå†å…¥é˜Ÿï¼Œä½¿æ–°å…ƒç´ åœ¨é˜Ÿå¤´
    public void push(int x) {
        int size = queue.size();
        queue.offer(x);
        for (int i = 0; i < size; i++) {
            queue.offer(queue.poll());
        }
    }

    public int pop() {
        return queue.poll();
    }

    public int top() {
        return queue.peek();
    }

    public boolean empty() {
        return queue.isEmpty();
    }
}
```

#### å¤æ‚åº¦åˆ†æ

- **push**ï¼šO(n)ï¼Œéœ€è¦æŠŠå·²æœ‰å…ƒç´ å…¨éƒ¨ç§»åŠ¨ä¸€æ¬¡
- **pop / top / empty**ï¼šO(1)
- ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œé˜Ÿåˆ—ä¸­å­˜å‚¨æ ˆå†…å…ƒç´ 

---

### é¢˜ç›®2ï¼šæ»‘åŠ¨çª—å£æœ€å¤§å€¼ (Sliding Window Maximum)

**éš¾åº¦**ï¼šâ­â­â­ å›°éš¾

**é“¾æ¥**ï¼š[LeetCode 239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼](https://leetcode.cn/problems/sliding-window-maximum/)

#### é¢˜ç›®æè¿°

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º `k` çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ `k` ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

è¿”å› **æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼**ã€‚

**ç¤ºä¾‹ï¼š**
```
è¾“å…¥ï¼šnums = [1,3,-1,-3,5,3,6,7], k = 3
è¾“å‡ºï¼š[3,3,5,5,6,7]
è§£é‡Šï¼š
æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7

è¾“å…¥ï¼šnums = [1], k = 1
è¾“å‡ºï¼š[1]
```

**æç¤º**ï¼š
- `1 <= nums.length <= 10^5`
- `-10^4 <= nums[i] <= 10^4`
- `1 <= k <= nums.length`

#### è§£é¢˜æ€è·¯

**æ–¹æ³•ä¸€ï¼šå•è°ƒé˜Ÿåˆ—** âœ… æ¨è

æ ¸å¿ƒæ€æƒ³ï¼š
1. ä½¿ç”¨åŒç«¯é˜Ÿåˆ— `deque` å­˜å‚¨**ä¸‹æ ‡**ï¼Œä¸”å¯¹åº”å…ƒç´ ä»é˜Ÿé¦–åˆ°é˜Ÿå°¾å•è°ƒé€’å‡ï¼ˆé˜Ÿé¦–æ˜¯å½“å‰çª—å£å†…æœ€å¤§å€¼çš„ä¸‹æ ‡ï¼‰
2. éå†æ•°ç»„ï¼Œå¯¹äºä¸‹æ ‡ `i`ï¼š
   - è‹¥é˜Ÿé¦–ä¸‹æ ‡å·²ä¸åœ¨çª—å£å†…ï¼ˆ`é˜Ÿé¦–ä¸‹æ ‡ <= i - k`ï¼‰ï¼Œä»é˜Ÿé¦–å‡ºé˜Ÿ
   - ä»é˜Ÿå°¾å¼€å§‹ï¼Œè‹¥ `nums[é˜Ÿå°¾ä¸‹æ ‡] < nums[i]`ï¼Œåˆ™é˜Ÿå°¾å‡ºé˜Ÿï¼ˆå› ä¸ºä¸å¯èƒ½å†æˆä¸ºåé¢çª—å£çš„æœ€å¤§å€¼ï¼‰ï¼Œç›´åˆ°é˜Ÿç©ºæˆ–é˜Ÿå°¾å…ƒç´  >= nums[i]
   - å°† `i` ä»é˜Ÿå°¾å…¥é˜Ÿ
   - å½“çª—å£å·²å½¢æˆï¼ˆ`i >= k - 1`ï¼‰æ—¶ï¼Œå½“å‰çª—å£æœ€å¤§å€¼å³ä¸º `nums[é˜Ÿé¦–ä¸‹æ ‡]`ï¼ŒåŠ å…¥ç»“æœ
3. è¿™æ ·æ¯ä¸ªä¸‹æ ‡æœ€å¤šå…¥é˜Ÿã€å‡ºé˜Ÿå„ä¸€æ¬¡ï¼Œæ€»æ—¶é—´ O(n)ã€‚

**å…³é”®ç‚¹**ï¼š
- å•è°ƒé˜Ÿåˆ—ï¼šé˜Ÿå†…æŒ‰ã€Œä¸‹æ ‡ã€å¯¹åº”çš„ã€Œå€¼ã€å•è°ƒé€’å‡ï¼Œé˜Ÿé¦–å³ä¸ºå½“å‰çª—å£æœ€å¤§å€¼
- å­˜ä¸‹æ ‡æ–¹ä¾¿åˆ¤æ–­æ˜¯å¦è¿˜åœ¨çª—å£å†…
- æ–°å…ƒç´ ä»é˜Ÿå°¾æ¯”è¾ƒå¹¶å¼¹å‡ºæ¯”å®ƒå°çš„ï¼Œå†å…¥é˜Ÿï¼Œä¿è¯å•è°ƒæ€§

#### ä»£ç å®ç°

```java
import java.util.*;

class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        if (nums == null || nums.length == 0 || k <= 0) {
            return new int[0];
        }

        int n = nums.length;
        int[] result = new int[n - k + 1];
        Deque<Integer> deque = new ArrayDeque<>(); // å­˜ä¸‹æ ‡ï¼Œå¯¹åº”å€¼å•è°ƒé€’å‡

        for (int i = 0; i < n; i++) {
            // é˜Ÿé¦–ä¸‹æ ‡è¶…å‡ºçª—å£ï¼Œå¼¹å‡º
            while (!deque.isEmpty() && deque.peekFirst() <= i - k) {
                deque.pollFirst();
            }
            // é˜Ÿå°¾æ¯”å½“å‰å…ƒç´ å°ï¼Œä¸å¯èƒ½å†æˆä¸ºæœ€å¤§å€¼ï¼Œå¼¹å‡º
            while (!deque.isEmpty() && nums[deque.peekLast()] < nums[i]) {
                deque.pollLast();
            }
            deque.offerLast(i);

            // çª—å£ [i-k+1, i] å·²å½¢æˆï¼Œé˜Ÿé¦–å³ä¸ºæœ€å¤§å€¼ä¸‹æ ‡
            if (i >= k - 1) {
                result[i - k + 1] = nums[deque.peekFirst()];
            }
        }

        return result;
    }
}
```

#### å¤æ‚åº¦åˆ†æ

- æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œæ¯ä¸ªä¸‹æ ‡æœ€å¤šå…¥é˜Ÿã€å‡ºé˜Ÿå„ä¸€æ¬¡
- ç©ºé—´å¤æ‚åº¦ï¼šO(k)ï¼Œå•è°ƒé˜Ÿåˆ—ä¸­æœ€å¤š k ä¸ªä¸‹æ ‡

---

## ä»Šæ—¥æ€»ç»“

### å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ

1. **ç”¨é˜Ÿåˆ—å®ç°æ ˆ**ï¼šé€šè¿‡ã€Œæ¯æ¬¡ push æ—¶æŠŠæ–°å…ƒç´ æ”¾åˆ°é˜Ÿå¤´ã€æˆ–ã€Œä¸¤ä¸ªé˜Ÿåˆ—å€’è…¾ã€ä¿è¯æ ˆé¡¶å¯¹åº”é˜Ÿå¤´ï¼Œä»è€Œç”¨é˜Ÿåˆ—çš„ FIFO æ¨¡æ‹Ÿ LIFO
2. **å•è°ƒé˜Ÿåˆ—**ï¼šé˜Ÿå†…å…ƒç´ ï¼ˆæˆ–ä¸‹æ ‡ï¼‰ä¿æŒå•è°ƒæ€§ï¼Œé˜Ÿé¦–å³ä¸ºå½“å‰çª—å£çš„æœ€å€¼ï¼Œé€‚ç”¨äºæ»‘åŠ¨çª—å£æœ€å€¼é—®é¢˜
3. **åŒç«¯é˜Ÿåˆ—**ï¼šæ—¢å¯ä»¥ä»é˜Ÿé¦–ä¹Ÿå¯ä»¥ä»é˜Ÿå°¾å‡ºé˜Ÿï¼Œç”¨äºç»´æŠ¤å•è°ƒé˜Ÿåˆ—
4. **å­˜ä¸‹æ ‡ä¸å­˜å€¼**ï¼šæ–¹ä¾¿åˆ¤æ–­ä¸‹æ ‡æ˜¯å¦è¿˜åœ¨çª—å£å†…ï¼Œä»¥åŠè·å–å¯¹åº”çš„å€¼

### å…³é”®æŠ€å·§

| æŠ€å·§           | é€‚ç”¨åœºæ™¯               | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ |
|----------------|------------------------|------------|------------|
| é˜Ÿåˆ—æ¨¡æ‹Ÿæ ˆ     | push æ—¶ç¿»è½¬/åŒé˜Ÿåˆ—å€’è…¾ | push O(n)  | O(n)       |
| å•è°ƒé˜Ÿåˆ—       | æ»‘åŠ¨çª—å£æœ€å€¼           | O(n)       | O(k)       |
| åŒç«¯é˜Ÿåˆ—       | éœ€è¦ä¸¤ç«¯å¼¹å‡º           | O(1) å•æ¬¡  | O(k)       |
| å­˜ä¸‹æ ‡         | éœ€è¦åˆ¤æ–­ä½ç½®/çª—å£      | -          | -          |

### é˜Ÿåˆ—æ“ä½œè¦ç‚¹

1. **é˜Ÿåˆ—åŸºæœ¬æ“ä½œ**ï¼š
   - `offer(e)` / `add(e)`ï¼šå…¥é˜Ÿ
   - `poll()` / `remove()`ï¼šå‡ºé˜Ÿï¼ˆé˜Ÿé¦–ï¼‰
   - `peek()` / `element()`ï¼šæŸ¥çœ‹é˜Ÿé¦–ä¸ç§»é™¤
   - `isEmpty()` / `size()`ï¼šåˆ¤ç©ºã€å¤§å°

2. **å•è°ƒé˜Ÿåˆ—æ¨¡å¼ï¼ˆæ»‘åŠ¨çª—å£æœ€å¤§å€¼ï¼‰**ï¼š
   - é˜Ÿå†…æŒ‰å€¼å•è°ƒé€’å‡ï¼Œé˜Ÿé¦–ä¸ºå½“å‰çª—å£æœ€å¤§å€¼
   - æ–°å…ƒç´ ä»é˜Ÿå°¾æ¯”è¾ƒï¼Œå¼¹å‡ºæ¯”å®ƒå°çš„å†å…¥é˜Ÿ
   - é˜Ÿé¦–ä¸‹æ ‡è¶…å‡ºçª—å£åˆ™ä»é˜Ÿé¦–å‡ºé˜Ÿ
   - çª—å£å½¢æˆåï¼ˆä¸‹æ ‡ >= k-1ï¼‰æ¯æ¬¡å–é˜Ÿé¦–ä½œä¸ºè¯¥çª—å£ç­”æ¡ˆ

3. **å¸¸è§é”™è¯¯**ï¼š
   - ç”¨é˜Ÿåˆ—å®ç°æ ˆæ—¶ï¼Œå¿˜è®°åœ¨ push æ—¶æŠŠæ ˆé¡¶ç»´æŠ¤åˆ°é˜Ÿå¤´ï¼Œå¯¼è‡´ pop/top ä¸æ˜¯ O(1) æˆ–é€»è¾‘é”™è¯¯
   - å•è°ƒé˜Ÿåˆ—çª—å£è¾¹ç•Œå†™é”™ï¼ˆå¦‚ `i - k` ä¸ `i - k + 1`ï¼‰
   - å­˜å€¼ä¸å­˜ä¸‹æ ‡å¯¼è‡´æ— æ³•åˆ¤æ–­æ˜¯å¦åœ¨çª—å£å†…

### ç›¸ä¼¼é¢˜ç›®æ¨è

- [ç”¨æ ˆå®ç°é˜Ÿåˆ—](https://leetcode.cn/problems/implement-queue-using-stacks/) - æ ˆä¸é˜Ÿåˆ—äº’ç›¸å®ç°
- [è®¾è®¡å¾ªç¯é˜Ÿåˆ—](https://leetcode.cn/problems/design-circular-queue/) - é˜Ÿåˆ—ç»“æ„è®¾è®¡
- [é˜Ÿåˆ—çš„æœ€å¤§å€¼](https://leetcode.cn/problems/dui-lie-de-zui-da-zhi-lcof/) - å¸¦æœ€å¤§å€¼çš„é˜Ÿåˆ—
- [æ»¡è¶³æ¡ä»¶çš„å­æ•°ç»„æ•°ç›®](https://leetcode.cn/problems/count-subarrays-with-score-less-than-k/) - åŒæŒ‡é’ˆ/å•è°ƒæ€§

### æ˜æ—¥è®¡åˆ’

- Day 15 äºŒå‰æ ‘
- ç»ƒä¹ ï¼šäºŒå‰æ ‘éå†ã€å±‚åºéå†ï¼ˆBFS ç”¨é˜Ÿåˆ—ï¼‰ã€é€’å½’ä¸è¿­ä»£å†™æ³•
